<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link rel="shortcut icon" href="../../img/file/icon.ico" /> <meta name="description" content="Blogging useful linux tips"> <link rel="canonical" href="https://wifiextender.github.io/"> <meta name="author" content="Aaron"> <title>Incremental backups</title> <link href="../../css/template-3/bootstrap-min.css" rel="stylesheet"> </head> <body> <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header"> <a class="navbar-brand" href="../../index.html">Home</a> <a class="navbar-brand" href="../../archive.html">Archive</a> </div> </div> </nav> <div class="container"> <div class="row"> <div class="col-lg-8"> <div class="panel panel-primary"> <div class="panel-body"><h1>Incremental backups</h1><div class="date-left"><span class="label label-default">2014-07-26 Author: Aaron</span></div><div class="articleline2"></div><br /><br /><p>A weekly backup strategy is necessary step to avoid huge data loss in case of an issue.</p><p>There are many open source programs that will help you to do that, but why do you have to rely on a 3rd party program when you can create a small script and or program that will achieve the same result &#63;</p><p>The space on our drives is the factor that we should think of first, because performing weekly backups could easily fill up the drive pretty quickly if we don't use a incremental backups strategy.</p><p>As the name <strong>incremental</strong> suggests, the latest backups will include only the newest entries to the directories and or files which we want to backup, thus saving a lot space.</p><p>Lets say we have a single folder that has 1000 files and is 100 MB in size. When we perform a incremental backup, the first (initial) backup will create an archive and a list-like incremetal file that contains a record of all files which are included in the first (inital) archive. From now on, when we add new files to that folder the next incremental backups will include only the newly added files, so we will not going to backup the whole folder again, instead the incremental file will notice which files are changed and or added and the newly created backups will include the changes, plus the incremental file will add the newest entries and or changed files.</p><p>Here are the gzip and xz incremental backup commands, xz is first:</p><pre># The first (initial) xz backup<p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> XZ_OPT=-9e tar -cJf home-dir.tar.xz /home/user/ -g incremetal</p><p># The newer backup with only the changed files</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> XZ_OPT=-9e tar -cJf home-dir-07-26-2014.tar.xz /home/user/ -g incremetal</p><p># The data restore will use the incremental file</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> tar xvf home-dir.tar.xz</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> tar xvf home-dir-07-26-2014.tar.xz</p></pre><p>gzip:</p><pre># The first (initial) gzip backup<p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> GZIP=-9 tar cvzg incremetal -f home-dir.tar.gz /home/user/</p><p># The newer backup with only the changed files</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> GZIP=-9 tar cvzg incremetal -f home-dir-07-26-2014.tar.gz /home/user/</p><p># The data restore will use the incremental file</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> tar zxvf home-dir.tar.gz</p><p><code2 style="font-weight: bold; color: rgb(42,159,214);">$</code2> tar zxvf home-dir-07-26-2014.tar.gz</p></pre><p>We know what the hackers did the last summer, taken from my archive lol.</p><img src="https://wifiextender.github.io/img/file/inc_bak/ubuntu-hacked.png" alt="" /><br /><img src="https://wifiextender.github.io/img/file/inc_bak/ubuntu-hacked2.png" alt="" /><br /><p>I've started learning C one week ago, and dunno if I'll be able to continue writing posts each week. I'm trying to find a balance between been husband, father of two children, employee, educating others in python and learning C.</p><p>I have plans for OpenBSD related how-to website, but that's in future project.</p> </div></div></div> <div class="col-lg-4"> <div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Popular Tags</h3></div><div class="panel-body"><div id="popular_tagz"></div></div></div> <div class="list-group"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Recent Posts</h3></div><div id="recent_poztz"></div></div></div>  </div> </div> <footer> <div class="row"> <div class="col-lg-12"> Powered by <a href="https://github.com/wifiextender/blogfy" target="_blank">Python</a>, <a href="javascript: void(0);" onclick="showOS();">OS test</a> </div> </div> </footer> </div> <script src="../../css/js/scr.js" async></script>  </body> </html>